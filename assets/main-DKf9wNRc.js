(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();function a(){const o=document.querySelector(".nav-button"),e=localStorage.getItem("account_status")==="true";o&&(e?(o.innerHTML="Акаунт",o.setAttribute("href","./account.html")):(o.innerHTML="Реєстрація/вхід",o.setAttribute("href","./registration.html")))}const f="https://harry-potter-test-preparation-backend.onrender.com/",y=document.querySelector(".password"),S=document.querySelector(".surname");document.querySelector(".reg-sub");const _=document.querySelector(".email");function b(){const[o,e]=S.value.trim().split(" "),s={email:_.value.trim(),firstName:e,lastName:o,password:y.value.trim()};console.log(s),fetch(`${f}auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(r=>{if(!r.ok)throw new Error(`HTTP Error: ${r.status}`);return r.json()}).then(r=>{localStorage.setItem("token",r.token),console.log("Результат реєстрації:",r),localStorage.setItem("account_status","true"),a(),window.location.href="../account.html"}).catch(r=>{alert("Помилка реєстрації"),console.error("Помилка реєстрації:",r)})}const q={password_input:document.querySelector(".password"),surname_input:document.querySelector(".surname"),submit_form:document.querySelector(".reg-sub"),email_input:document.querySelector(".email")};document.querySelector(".change-btn");const i=document.querySelector(".reg-title"),l=document.querySelector(".name-label"),d=document.querySelector(".reg-sub"),m=document.querySelector(".change-text"),g=document.querySelector(".change-btn"),h=document.querySelector(".reg-sub_log");let c=localStorage.getItem("isReg")==="true";function p(){c=localStorage.getItem("isReg")==="true",c?(i.innerHTML="Вхід до акаунту",l.classList.add("hidden"),d.classList.add("hidden"),h.classList.remove("hidden"),m.innerHTML="Ще не маєте акаунту?",g.innerHTML="Реєстрація",c=!1):c||(i.innerHTML="Реєстрація",l.classList.remove("hidden"),m.innerHTML="вже зареєстровані?",g.innerHTML="Вхід до акаунту",c=!0,d.classList.remove("hidden"),h.classList.add("hidden")),localStorage.setItem("isReg",c)}const w={change:document.querySelector(".change-btn"),title:document.querySelector(".reg-title"),name_prop:document.querySelector(".name-label"),change_text:document.querySelector(".change-text"),change_btn:document.querySelector(".change-btn"),isReg:localStorage.getItem("isReg")==="true",submit_log:document.querySelector(".reg-sub_log")},L="https://harry-potter-test-preparation-backend.onrender.com/",v=document.querySelector(".password");document.querySelector(".reg-sub");const $=document.querySelector(".email");function T(){const o={email:$.value.trim(),password:v.value.trim()};console.log(o),fetch(`${L}auth/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(e=>{if(!e.ok)throw new Error(`HTTP Error: ${e.status}`);return e.json()}).then(e=>{localStorage.setItem("account_status","true"),localStorage.setItem("token",e.token),console.log("Результат входу:",e),a(),window.location.href="../account.html"}).catch(e=>{alert("Помилка реєстрації"),console.error("Помилка реєстрації:",e)})}document.querySelector(".password"),document.querySelector(".reg-sub"),document.querySelector(".email"),document.querySelector(".nav-button");const{change:I,title:M,name_prop:P,change_text:R,change_btn:N,isReg:E,submit_log:H}=w,{password_input:k,surname_input:x,submit_form:O,email_input:j}=q;window.addEventListener("load",()=>{localStorage.setItem("isReg",!E),p()});window.addEventListener("load",()=>{a()});I.addEventListener("click",()=>{p()});H.addEventListener("click",()=>T());O.addEventListener("click",()=>b());
