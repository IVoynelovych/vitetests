import{c as r}from"./changetorigistrated-D7c5Zxz1.js";const h="https://harry-potter-test-preparation-backend.onrender.com/",p=document.querySelector(".password"),S=document.querySelector(".surname");document.querySelector(".reg-sub");const _=document.querySelector(".email");function y(){const[n,e]=S.value.trim().split(" "),g={email:_.value.trim(),firstName:e,lastName:n,password:p.value.trim()};fetch(`${h}auth/signup`,{method:"POST",headers:{"ngrok-skip-browser-warning":"69420","Content-Type":"application/json"},body:JSON.stringify(g)}).then(t=>{if(!t.ok)throw new Error(`HTTP Error: ${t.status}`);return t.json()}).then(t=>{localStorage.setItem("token",t.token),console.log("Результат реєстрації:",t),localStorage.setItem("account_status","true"),r(),window.location.href="account.html"}).catch(t=>{alert("Помилка реєстрації"),console.error("Помилка реєстрації:",t)})}const b={password_input:document.querySelector(".password"),surname_input:document.querySelector(".surname"),submit_form:document.querySelector(".reg-sub"),email_input:document.querySelector(".email")};document.querySelector(".change-btn");const c=document.querySelector(".reg-title"),s=document.querySelector(".name-label"),a=document.querySelector(".reg-sub"),u=document.querySelector(".change-text"),l=document.querySelector(".change-btn"),i=document.querySelector(".reg-sub_log"),m=document.querySelector(".stable-reg");let o=localStorage.getItem("isReg")==="true";function d(){o=localStorage.getItem("isReg")==="true",o?(c.innerHTML="Вхід до акаунту",s.classList.add("hidden"),a.classList.add("hidden"),i.classList.remove("hidden"),m.classList.remove("stable-reg"),u.innerHTML="Ще не маєте акаунту?",l.innerHTML="Реєстрація",o=!1):o||(c.innerHTML="Реєстрація",s.classList.remove("hidden"),m.classList.add("stable-reg"),u.innerHTML="вже зареєстровані?",l.innerHTML="Вхід до акаунту",o=!0,a.classList.remove("hidden"),i.classList.add("hidden")),localStorage.setItem("isReg",o)}const q={change:document.querySelector(".change-btn"),title:document.querySelector(".reg-title"),name_prop:document.querySelector(".name-label"),change_text:document.querySelector(".change-text"),change_btn:document.querySelector(".change-btn"),isReg:localStorage.getItem("isReg")==="true",submit_log:document.querySelector(".reg-sub_log")},w="https://harry-potter-test-preparation-backend.onrender.com/",f=document.querySelector(".password");document.querySelector(".reg-sub");const L=document.querySelector(".email");function $(){const n={email:L.value.trim(),password:f.value.trim()};fetch(`${w}auth/signin`,{method:"POST",headers:{"ngrok-skip-browser-warning":"69420","Content-Type":"application/json"},body:JSON.stringify(n)}).then(e=>{if(!e.ok)throw new Error(`HTTP Error: ${e.status}`);return e.json()}).then(e=>{console.log("Результат входу:",e.token),console.log("Результат входу:",e),localStorage.setItem("account_status","true"),r(),localStorage.setItem("token",e.token),window.location.href="account.html"}).catch(e=>{alert("Помилка входу"),console.error("Помилка входу:",e)})}document.querySelector(".password"),document.querySelector(".reg-sub"),document.querySelector(".email"),document.querySelector(".nav-button");const{change:k,title:H,name_prop:R,change_text:M,change_btn:x,isReg:v,submit_log:T}=q,{password_input:j,surname_input:N,submit_form:E,email_input:O}=b;window.addEventListener("load",()=>{localStorage.setItem("isReg",!v),d()});window.addEventListener("load",()=>{r()});k.addEventListener("click",()=>{d()});T.addEventListener("click",()=>$());E.addEventListener("click",()=>y());
